\subsection{Вычисление очков умений}

\subsubsection{Общая характеристика}

Алгоритм предназначен для расчёта количества доступных для распределения очков умений уровня персонажа. Выполняется для каждого уровня персонажа.

\subsubsection{Используемые данные}

Входными данными для данного алгоритма являются выбранный уровень, класс, модификатор интеллекта, очки, потраченные на умения для выбранного уровня.

\subsubsection{Результаты выполнения}

Количество очков умений, доступных для распределения, является результатом выполнения алгоритма.

\subsubsection{Математическое описание}

Пусть $М$ --- модификатор интеллекта, $С$ --- очки умений, доступные классу, $u_i$ --- очки, потраченные на развитие i-го умения на данном уровне, тогда общее количество очков умений на уровне будет вычисляться по формуле:
\formulka{ S = M + C }
при этом, если S < 1, то S принимается за единицу.

Количество доступных для распределения очков P вычисляется по формуле:
\formulka{ P = S - {\sum_{i=1}^{n} u_i} }

\subsubsection{Логическое описание}

Пересчёт количества очков умений, доступных для распределения, происходит тогда, когда пользователь переназначает умения на данном уровне.

Перерасчёт происходит по схеме, изображённой на рисунке~\ref{img:math:skill_points}.

\portraitImg[h!]{0.95}
            {images/math/skill_points}
            {Диаграмма алгоритма вычисления очков умений}
            {math:skill_points}
